plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=E(subs2)$weight,
vertex.label.font=2,
vertex.label.cex=0,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
par(mfrow=(c(1,2)))
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=E(subs1)$weight,
vertex.label.font=1,
vertex.label.cex=0.5,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=E(subs2)$weight,
vertex.label.font=2,
vertex.label.cex=0,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
par(mfrow=(c(1,2)))
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=E(subs1)$weight,
vertex.label.font=1,
vertex.label.cex=0.7,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=E(subs2)$weight,
vertex.label.font=1,
vertex.label.cex=0,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
par(mfrow=(c(1,2)))
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=E(subs1)$weight,
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=E(subs2)$weight,
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
range(E(mods2)$weight)
mean(E(mods2)$weight)
sd(E(mods2)$weight)
range(E(subs1)$weight)
mean(E(subs1)$weight)
sd(E(subs1)$weight)
range(E(subs2)$weight)
mean(E(subs2)$weight)
sd(E(subs2)$weight)
hist(E(subs1)$weight, breaks=20, xlab="Degree",
cex.lab=1.2, cex.main=1.4,
main="Histogram of CMV sub edge weights")
hist(E(subs2)$weight, breaks=20, xlab="Degree",
cex.lab=1.2, cex.main=1.4,
main="Histogram of TD sub edge weights")
hist(log(E(subs2)$weight), breaks=20, xlab="Degree",
cex.lab=1.2, cex.main=1.4,
main="Histogram of TD sub edge weights")
source('~/Programming/GitHub/R-mod-nets/simple-plots.R')
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/sub-nets.png',
width=680,height=512)
{
par(mfrow=(c(1,2)))
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
}
dev.off()
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/sub-nets.png',
width=800,height=650)
{
par(mfrow=(c(1,2)))
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
}
dev.off()
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/sub-nets.png',
width=850,height=60)
{
par(mfrow=(c(1,2)))
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
}
dev.off()
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/sub-nets.png',
width=850,height=600)
{
par(mfrow=(c(1,2)))
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
}
dev.off()
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/sub-nets.png',
width=850,height=550)
{
par(mfrow=(c(1,2)))
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
}
dev.off()
wrap_strings <- function(vector_of_strings,width){
as.character(sapply(vector_of_strings, FUN=function(x){
paste(strwrap(x, width=width), collapse="\n")
}))
}
# Apply the function to wrap the node labels
V(subs2)$label = wrap_strings(V(subs2)$label, 12)
V(subs2)$label
V(subs2)$label = wrap_strings(V(subs2)$name, 12)
V(subs2)$label = wrap_strings(V(subs2)$name, 12)
V(subs2)$label
layout.by.attr <- function(graph, wc, cluster.strength=1,layout=layout.auto) {
g <- graph.edgelist(get.edgelist(graph)) # create a lightweight copy of graph w/o the attributes.
E(g)$weight <- 1
attr <- cbind(id=1:vcount(g), val=wc)
g <- g + vertices(unique(attr[,2])) + igraph::edges(unlist(t(attr)), weight=cluster.strength)
l <- layout(g, weights=E(g)$weight)[1:vcount(graph),]
return(l)
}
plot(subs2,
#layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.8,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network',
layout=layout.by.attr(subs2, wc=1))
plot(subs1,
layout = layout1,
#vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
#vertex.label.font=1,
#vertex.label.cex=0.8,
#vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
plot(subs1,
layout = layout1,
#vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
#vertex.label.font=1,
#vertex.label.cex=0.8,
#vertex.label.color=V(subs1)$color,
vertex.label.color="white"
main = 'CMV subreddit network')
plot(subs1,
layout = layout1,
#vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
#vertex.label.font=1,
#vertex.label.cex=0.8,
#vertex.label.color=V(subs1)$color,
vertex.label.color="white",
main = 'CMV subreddit network')
plot(subs1,
layout = layout1,
#vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
#vertex.label.font=1,
#vertex.label.cex=0.8,
#vertex.label.color=V(subs1)$color,
vertex.label.color=n=NA,
main = 'CMV subreddit network')
plot(subs1,
layout = layout1,
#vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
#vertex.label.font=1,
#vertex.label.cex=0.8,
#vertex.label.color=V(subs1)$color,
vertex.label.color=NA,
main = 'CMV subreddit network')
plot(subs1,
layout = layout1,
#vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
#vertex.label.font=1,
#vertex.label.cex=0.8,
#vertex.label.color=V(subs1)$color,
vertex.label=NA,
main = 'CMV subreddit network')
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.7,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/sub-nets.png',
width=900,height=550)
{
par(mfrow=(c(1,2)))
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.7,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.7,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
}
dev.off()
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/sub-nets.png',
width=900,height=550)
{
par(mfrow=(c(1,2)))
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.85,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.85,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
}
dev.off()
par(mfrow=(c(1,1)))
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/cmv-sub-net.png',
width=500,height=225)
layout1 = layout.fruchterman.reingold(subs1)
plot(subs1,
layout = layout1,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.85,
vertex.label.color=V(subs1)$color,
main = 'CMV subreddit network')
dev.off()
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/td-sub-net.png',
width=500,height=225)
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.85,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
dev.off()
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/td-sub-net.png',
width=900,height=525)
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.85,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
dev.off()
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/td-sub-net.png',
width=1200,height=1000)
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.85,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
dev.off()
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/td-sub-net.png',
width=1200,height=1000)
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=1.5,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
dev.off()
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/td-sub-net.png',
width=1000,height=800)
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=0.85,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
dev.off()
png(filename='/Users/emg/Google Drive/PhD/presenting/ss_phd_seminar_april_17/visuals/td-sub-net.png',
width=1000,height=800)
layout2 = layout.fruchterman.reingold(subs2)
plot(subs2,
layout = layout2,
vertex.shape = 'none',
edge.width=log(E(subs1)$weight),
vertex.label.font=1,
vertex.label.cex=1,
vertex.label.color=V(subs2)$color,
main = 'TD subreddit network')
dev.off()
source('~/Programming/GitHub/R-mod-nets/simple-plots.R')
library(ggplot2)
#------------------
# CREATE DATA FRAME
#------------------
df.team_data <- expand.grid(teams = c("Team A", "Team B", "Team C", "Team D")
,metrics = c("Metric 1", "Metric 2", "Metric 3", "Metric 4", "Metric 5")
)
# add variable: performance
set.seed(41)
df.team_data$performance <- rnorm(nrow(df.team_data))
#inspect
head(df.team_data)
ggplot(data = df.team_data, aes(x = metrics, y = teams)) +
geom_tile(aes(fill = performance))
df = read.csv('/Users/emg/Programming/GitHub/the_donald_project/raw_data/all_mods_merged.csv')
df = df[ , which(names(df) %in% c("name","date"))]
df
df$present = 1
head(df)
ggplot(data = df, aes(x = date, y = name)) +
geom_tile(aes(fill = present))
library(lattice)
weeks = read.csv('/Users/emg/Programming/GitHub/the_donald_project/raw_data/all_mods_archive_it_04_17.csv')
weeks
weeks = read.csv('/Users/emg/Programming/GitHub/the_donald_project/tidy_data/mod_weeks.csv')
head(weeks)
?levelplot
size=rnorm(20)
d=data.frame(sort(size))
dis=dist(d,diag=TRUE)
m=as.matrix(dis)
m
levelplot(weeks[1:ncol(weeks),ncol(weeks):1])
class(m)
class(weeks)
weeks = as.matrix(weeks)
class(weeks)
levelplot(weeks[1:ncol(weeks),ncol(weeks):1])
levelplot(m[1:ncol(m),ncol(m):1])
1:ncol(weeks)
nba <- read.csv("http://datasets.flowingdata.com/ppg2008.csv")
nba.m <- melt(nba)
> nba.m <- ddply(nba.m, .(variable), transform,
+     rescale = rescale(value))
nba.m <- melt(nba)nba.m <- ddply(nba.m, .(variable), transform,
+     rescale = rescale(value))
nba.m <- melt(nba)
library(ggplot2)
nba.m <- melt(nba)
library(reshape)
nba.m <- melt(nba)
nba.m <- ddply(nba.m, .(variable), transform, rescale = rescale(value))
library(plyr)
nba.m <- ddply(nba.m, .(variable), transform, rescale = rescale(value))
(p <- ggplot(nba.m, aes(variable, Name)) + geom_tile(aes(fill = rescale),
+     colour = "white") + scale_fill_gradient(low = "white",
+     high = "steelblue"))
(p <- ggplot(nba.m, aes(variable, Name)) + geom_tile(aes(fill = rescale), colour = "white") + scale_fill_gradient(low = "white", high = "steelblue"))
